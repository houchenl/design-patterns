# 设计原则

## 活字印刷术
**可维护：** 要改，只需更改要改之字，此为可维护；  
**可复用：** 这些字并非用完这次就无用，完全可以在后来的印刷中重复使用，此为可复用；  
**可扩展：** 此诗若要加字，只需另刻字加入即可，这是可扩展；  
**灵活性好：** 字的排列其实可能是竖排可能是横排，此时只需将活字移动就可做到满足排列需求，此是灵活性好；  

在活字印刷术发明之前，上面的四种特性都无法满足，要修改，必须重刻，要加字，必须重刻，要重新排列，必须重刻，印完这本书后，此版无任何可丙利用价值。  

## 单一原则：复用 > 复制
复制代码是非常不好的编码习惯，因为代码中重复的代码多到一定程序，维护的时候，可能就是一场灾难。越大的系统，这种方式带来的问题越严重。编程有一个原则，就是用尽可能的方法使用复用，避免重复。  

要实现这个目标，就要分析业务，将不同的子业务拆分成不同的类，让它们之间的耦合度下降，才可以达到容易维护或扩展。  

## 面向对象
面向对象编程，不是类越多越好，类的划分是为了封装，但分类的基础是抽象，具有相同属性和功能的对象的抽象集合才是类。  

如果编写时考虑的都是如何针对抽象编程而不是针对细节编程，即程序中所有的依赖关系都是终止于抽象类或者接口，那就是面向对象的设计，反之就是过程化的设计。  

## 单一职责原则
就一个类而言，应该仅有一个引起它变化的原因。  

如果一个类承担的职责过多，就等于把这些职责耦合在一起，一个职责的变化可能会消弱或抑制这个类完成其他职责的能力。这种耦合会导致脆弱的设计，当变化发生时，设计会遭受到意想不到的破坏。  

好处：  
类的复杂性降低，实现什么职责都有清晰明确的定义  
可读性提高  
可维护性提高  
变更引起的风险降低，变更是必不可少的，如果接口的单一职责做得好，一个接口修改只对相应的实现类有影响，对其他接口无影响，这对系统的扩展性，维护性都有大的帮助。  

实际应用：  
接口一定要做到单一职责  
类的设计尽量做到只有一个原因引起变化  
方法尽量做到单一职责    

## 开放-封闭原则
一、对于扩展是开放的；二、对于更改是封闭的；参考香港回归，一国两制。  

开发的时候，需求会不断变化，怎么保证面对需求变化的时候，设计的软件可以相对容易修改，不至于新需求一来，就把整个程序推倒重来。开放-封闭原则给我们答案。  

多扩展，少修改。  

开放-封闭原则指，设计的时候，时刻要考虑，尽量让这个类足够好，写好了就不要去修改，如果新需求来了，就增加一些类，原来的代码能不动就不动。  

在最初编写代码时，假设变化不会发生，当变化发生时，就创建抽象来隔离以后发生的同类变化。  

面对需求，对程序的改动是通过添加新代码进行的，而不是更改现有的代码。这是开放-封闭原则的精神所在。  

开放-封闭原则是面向对象设计的核心所在。遵循这个原则可以带来面向对象技术所声称的巨大好处，也就是可维护、可扩展、可复用、灵活性好。开发人员应该仅cxf程序中呈现出频繁变化的那些部分做出抽象，然而，对于应用程序中的每个部分都刻意进行抽象同样不是一个好主意。拒绝不成熟的抽象和抽象本身一样重要。  

## 依赖倒转原则
PC电脑容易维修因为它强内聚、低耦合。  
PC电脑体现的设计原则：  
单一职责原则：CPU、电源、显示屏、内存、存储器，每个部件的功能都很明确。  
开放-封闭原则：内存不够只要插槽足够就可以添加，硬盘不够可以用移动硬盘。PC的接口是有限的，所以扩展有限，软件系统设计得好，却可以无限地扩展。  

依赖倒转原则：抽象不应该依赖细节，细节应该依赖抽象。即针对接口编程，不要对实现编程。  
无论主板、CPU、内存、硬盘都是在针对接口设计的，如果针对实现设计，内存就要对应到具体的某个品牌的主板，那就会出现换内存也需要把主板也换了的问题。  

针对接口编程：不管高层模块还是低层模块，它们都依赖于接口，只要接口是稳定的，那么任何一个的更改都不用担心其它受到影响，这就使得无论低层模块还是高层模块都可以很容易地被复用。  

依赖倒转就是谁也不要依赖谁，都依赖接口，除了接口，大家都可以灵活自如。  

## 里氏代换原则
一个软件实体如果使用的是一个父类的话，那么一定适用于其子类，而且它察觉不出父类对象和子类对象的区别。也就是说，在软件里面，把父类都替换成它的子类，程序的行为没有变化。简单地说：**子类型必须能够替换它们的父类型**。  

由于子类型的可替换性才使得使用父类类型的模块在无需修改的情况下就可以扩展。  

高层模块不应该直接依赖低层模块，两个都应该依赖抽象。  

在类中调用其他类时务必要使用父类或接口，如果不能使用父类或接口，则说明类的设计已违背了LSP原则。  



